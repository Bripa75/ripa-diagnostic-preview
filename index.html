<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ripa Elevate — Free Diagnostic</title>
  <meta name="description" content="Adaptive Math & ELA diagnostic aligned to NYC/NYS standards.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="bg-gradient" aria-hidden="true"></div>
  <canvas id="fx" aria-hidden="true"></canvas>

  <header>
    <div class="container">
      <div class="row">
        <div class="brand"><span class="orb"></span><span>Ripa Elevate Academy</span></div>
        <nav>
          <a href="#start">Start</a>
          <a href="#how">How it works</a>
          <a href="#faq">FAQ</a>
        </nav>
      </div>
    </div>
  </header>

  <main id="start">
    <section class="hero">
      <div class="container">
        <h1 class="headline">The <span class="txt-grad">Instant Learning Scan</span></h1>
        <p class="sub">20 adaptive questions from a 120-item bank. Pinpoints level, strengths, priorities, and gives a simple plan.</p>
        <div class="accent-bar"></div>
      </div>
    </section>

    <section id="how">
      <div class="container">
        <div class="label">How it works</div>
        <div class="title">Simple steps. Smart results.</div>
        <div class="grid3">
          <div class="card tilt"><h3>Smart Start</h3><p>Choose a grade (or Auto). We cap difficulty at +2 grades.</p></div>
          <div class="card tilt"><h3>Adaptive Questions</h3><p>Gets easier/harder as they answer. Math then ELA.</p></div>
          <div class="card tilt"><h3>Instant Report</h3><p>Shows estimate, confidence, strengths, priorities, and action steps.</p></div>
        </div>
      </div>
    </section>

    <!-- Prestart -->
    <section>
      <div class="container">
        <div class="examCard" id="prestart">
          <div class="row" style="align-items:center;gap:12px;flex-wrap:wrap">
            <div class="title" style="margin:0">Set Up Your Diagnostic</div>
            <label class="examMuted">Grade:
              <select id="gradeSel" style="margin-left:6px">
                <option value="">Auto</option>
                <option>2</option><option>3</option><option>4</option>
                <option>5</option><option>6</option><option>7</option><option>8</option>
              </select>
            </label>
            <button class="btn primary" id="beginBtn" type="button">Begin</button>
          </div>
          <p class="examMuted" style="margin-top:10px">Tip: If you pick Grade 2, the hardest item shown will be around Grade 4.</p>
        </div>
      </div>
    </section>

    <!-- Live Exam -->
    <section id="exam">
      <div class="container stage" id="app" style="display:none">
        <!-- Left: Q/A -->
        <div class="examCard">
          <div class="row">
            <div>
              <div class="examTitle" id="sectionTitle">Math — Question 1</div>
              <p class="examMuted" id="sectionHint">We’ll adjust difficulty as you go.</p>
            </div>
            <div style="min-width:170px">
              <div class="examMuted" id="progressText" style="text-align:center">1 / 20</div>
              <div class="progBar"><div class="progFill" id="progressFill"></div></div>
            </div>
          </div>

          <h3 class="qtext" id="qtext">Loading…</h3>
          <div class="choices" id="choices"></div>
        </div>

        <!-- Right: HUD -->
        <div class="examCard">
          <div class="examTitle">Live Indicators</div>
          <p class="examMuted">Update after each answer.</p>
          <div class="kpis">
            <div class="kpiBox"><div class="examMuted">Estimated Level</div><div class="num" id="estLevel">—</div></div>
            <div class="kpiBox"><div class="examMuted">Confidence</div><div class="num" id="confidence">—</div></div>
            <div class="kpiBox"><div class="examMuted">Domain</div><div class="num" id="domainNow">Math</div></div>
          </div>
          <div style="margin-top:12px">
            <div class="examMuted">Strength signals</div><div id="strengths"></div>
          </div>
          <div style="margin-top:8px">
            <div class="examMuted">Priority signals</div><div id="needs"></div>
          </div>
          <div class="btns" style="margin-top:14px;justify-content:flex-start">
            <button class="btn" id="finishBtn" type="button">Finish now</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Report -->
    <section>
      <div class="container">
        <div class="examCard" id="report" style="display:none">
          <div class="row">
            <div class="examTitle">Instant Report</div>
            <div class="btns">
              <button class="btn" onclick="window.print()">Download PDF</button>
              <a class="btn" href="#start" onclick="location.reload()">Restart</a>
              <button class="btn primary" id="sendToTutorBtn" type="button">Email Results</button>
            </div>
          </div>

          <p class="examMuted">Targets reflect typical NYC/NYS expectations.</p>

          <div class="kpis">
            <div class="kpiBox"><div class="examMuted">Math level (current)</div><div class="num" id="mathLevel">—</div></div>
            <div class="kpiBox"><div class="examMuted">ELA level (current)</div><div class="num" id="elaLevel">—</div></div>
            <div class="kpiBox"><div class="examMuted">Overall confidence</div><div class="num" id="confOut">—</div></div>
          </div>

          <div class="kpis" style="margin-top:10px">
            <div class="kpiBox"><div class="examMuted">Math expected</div><div class="num" id="mathExpected">—</div><div class="examMuted" id="mathGap" style="margin-top:6px">—</div></div>
            <div class="kpiBox"><div class="examMuted">ELA expected</div><div class="num" id="elaExpected">—</div><div class="examMuted" id="elaGap" style="margin-top:6px">—</div></div>
            <div class="kpiBox"><div class="examMuted">Grade reference</div><div class="num" id="gradeRef">Auto</div></div>
          </div>

          <div style="margin-top:12px">
            <div class="examMuted">Strengths</div><div id="strengthList"></div>
          </div>
          <div style="margin-top:8px">
            <div class="examMuted">Priorities</div><div id="needList"></div>
          </div>

          <div style="margin-top:12px">
            <label class="examMuted" style="display:flex;align-items:center;gap:8px">
              <input type="checkbox" id="stdToggle"> Show standards details
            </label>
            <div id="stdDetails" style="display:none; margin-top:8px" class="examMuted"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Hidden Formspree form (emails you results) -->
    <form id="resultsForm" action="https://formspree.io/f/mzzvlgge" method="POST" style="display:none">
      <!-- (Optional) visible inputs you might add elsewhere can copy into these -->
      <input type="text"  name="student_name"   id="fs_student_name">
      <input type="email" name="parent_email"   id="fs_parent_email">

      <input type="text"  name="grade_selected" id="fs_grade">
      <input type="text"  name="math_level"     id="fs_math">
      <input type="text"  name="ela_level"      id="fs_ela">
      <input type="text"  name="confidence"     id="fs_confidence">
      <input type="text"  name="strengths"      id="fs_strengths">
      <input type="text"  name="needs"          id="fs_needs">
      <textarea name="answers_json" id="fs_answers_json"></textarea>

      <input type="hidden" name="_subject" value="New Diagnostic Results">
      <input type="hidden" name="_redirect" value="/diagnostic-test.html#thanks">
    </form>
  </main>

  <footer>
    <div class="container">© <span id="year"></span> Ripa Elevate Academy · Private by design</div>
  </footer>

  <script src="./bank.js"></script>
  <script src="./app.js"></script>
</body>
</html>
